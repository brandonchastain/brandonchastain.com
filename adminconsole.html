<html>

<head>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
    <div class="content col-6">
        <a href="index.html">Home</a>
        <h1>Admin Console</h1>
        Hello <div id="name"></div>
        
        <a href="/logout">Log out</a>
    </div>

    <script>
        async function getUserInfo() {
            const response = await fetch('/.auth/me');
            const payload = await response.json();
            const { clientPrincipal } = payload;
            return clientPrincipal;
        }

        (async () => {
            var principal = await getUserInfo();
            document.getElementById("name").textContent = principal.userDetails;
        })();
    </script>
</body>

</html>